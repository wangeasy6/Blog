---
title: 心智处理器
toc: true
date: 2024-10-14 14:30:00
categories:
  - ithink
---


```c
LifeTimeLoop(){
    吃饭;
    睡觉;
    打豆豆;
}
```

人的大脑其实在很多时候都类似于一个单核处理器，关键在于我们的调度和执行。

<!--more-->

<br/>

## 调度流程

其调度流程类比如下：

```python
任务表{
    项目计划表,
    年计划表,
    月计划表,
    周计划表,
    日计划表（每日事项、从以上计划中筛选出来的任务）,
    ToDoList（杂项）
}

全局数据: 任务表、中断事务表、日志

硬中断:
    保存（当前任务数据）
    执行中断请求

软中断（杂事）:
    保存（当前任务数据）
    加入中断事务表（中断事件）
    if 中断事件优先级 is Max:
        执行中断事件
        删除中断事务表（中断事件）
        更新日志

中断注册:
    硬中断（吃喝拉撒、身体不适等）
    软中断（杂事）

获取任务:
    遍历任务表、中断事务表
    判断任务优先级（紧急程度 & 重要程度）
    return 下一任务

执行任务：
    分解任务
    更新任务表（分解任务）
    for 子任务 in 分解任务:
        执行子任务
        if timeout:
            break
    更新任务表（当前状态）
    更新日志

main():
    while:
        next_task = 获取任务()
        set_timeout_may_be()
        if next_task:
            执行任务()
            have_a_rest_may_be()
        else:
            flow_for_a_period_of_time()
```

