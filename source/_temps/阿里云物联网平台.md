---
title: 阿里云物联网平台-Topic定义
tags:
---

基于阿里云物联网平台，使用MQTT协议的物联网设备管理。

阿里云物联网平台地址：https://iot.console.aliyun.com/

<!--more-->

<br/>

### 创建产品与设备

阿里云在线文档说明：https://help.aliyun.com/document_detail/73705.html

创建产品时如果选择标准品类，则会要求选择具体的设备品类：

![select_model](G:\Blog\source\resources\aliyun_IOT\select_model.png)

### 为产品定义物模型

阿里云在线文档说明：https://help.aliyun.com/document_detail/73705.html

在上一个步骤我们创建一个自定义品类-门禁。

在控制台的"设备管理"-"产品"中能看到我们创建的门禁产品，点击"查看"。

![product_gate](G:\Blog\source\resources\aliyun_IOT\product_gate.png)

在"Topic类列表"中可以看到，分为"基础通信Topic"、"物模型通信Topic"、"自定义Topic"。

![基础通信Topic](G:\Blog\source\resources\aliyun_IOT\基础通信Topic.png)

物模型通信Topic：

![物模型通信Topic](G:\Blog\source\resources\aliyun_IOT\物模型通信Topic.png)

其中的基础Topic规则：

| 功能     | Topic规则                                |
| -------- | ---------------------------------------- |
| 固件升级 | /ota/device/功能描述/产品/设备           |
| 设备标签 | /sys/产品/设备/thing/deviceinfo/功能描述 |
| 时钟同步 | /ext/ntp/产品/设备/功能描述              |
| 设备影子 | /shadow/功能描述/产品/设备               |
| 配置更新 | /sys/产品/设备/thing/功能描述            |
| 广播     | /broadcast/产品/自定义字符串             |

物模型Topic规则：

| 功能     | Topic规则                                              |
| -------- | ------------------------------------------------------ |
| 属性上报 | /sys/产品/设备/thing/event/property/                   |
| 属性设置 | /sys/产品/设备/thing/service/property/set              |
| 事件上报 | /sys/产品/设备/thing/event/${tsl.event.identifier}/    |
| 服务调用 | /sys/产品/设备/thing/service/${tsl.service.identifier} |

