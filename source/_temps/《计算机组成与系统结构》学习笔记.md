---
title: 《计算机组成与系统结构》学习笔记
toc: true
categories:
  - null
tags:
  - null
---

![img](http://p3.itc.cn/images01/20201109/e9da704fc7b54cba9922dc1a93a651b9.jpeg)

<!--more-->

<br/>

### 1.4.4 指令的执行过程

![img](https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fwww.pianshen.com%2Fimages%2F374%2Fb0e510797dbfc9ebf2a74274347fd67e.png&refer=http%3A%2F%2Fwww.pianshen.com&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=jpeg?sec=1637757592&t=8fd029ff072195135712d47d944c1919)

```C
While(*PC)
{
    // 第一步：根据PC，取指令到IR
	地址线 = MAR = PC;  // 将PC的内容送MAR，MAR中的内容直接送地址线
    控制器（控制线， 读）;  // 控制器将读信号送读/写信号线
    存储器（数据线，指令Data）;  // 主存根据地址线上的地址和读信号，从指定存储单元读出指令，并送到数据线上
    IR = MDR = 数据线;  // MDR从数据线接受指令信息，并传送到IR中
    
    // 第二步：指令译码并送出控制信号
   	控制器（执行部件，IR["操作码"]）;  // 控制器根据IR中指令的操作码，生成相应的控制信号，送到不同的执行部件
    
    // 第三步：取操作数
    if ( 操作指令 == ALU运算指令 )
    {
        ALU.Input = *IR["寄存器编号"];  // 如果是ALU运算类指令，则根据IR中的指令的寄存器编号选择2个或个寄存器中的内容作为操作数，送到ALU的输入端
    }
    
    // 第四步：指令执行
    if ( 操作指令 == ALU运算指令 )  // 如果是ALU运算类指令
    {
        运算结果,标志信息 = ALU.Run();  // 则ALU在控制信号的控制下，进行相应的运算，并生成运算结果和相应的标志信息
    }
    if ( 操作指令 == 存数/取数指令 )  // 如果是存数/取数指令
    {
        存储器(存储单元，读/写);  // 则主存在读/写控制信号的控制下，对地址线指定的存储单元进行读/写
    }
    
    // 第五步：回写结果
    if ( 操作指令 == ALU运算指令 )
    {
    	寄存器/主存单元 = 运算结果;  // 将ALU运算的结果写入指定编号的寄存器或指定的主存单元中
    }
    
    // 第六步：PC自增
    PC = PC + len(IR);  // 每次执行完一个指令，PC都将自动加上指令长度，指向下一条指令
}
```

